<!DOCTYPE html>
<html>
    <header>
        <app-header></app-header>
    </header>
<body>
    <div class="content-container">
        <div class="content">
            <div class="mat-tab-group">
                <mat-tab-group animationDuration="0ms" class="mat-tab-group" (focusChange)="ClearInputs()">
    
                    <mat-tab label="Sucursal">                    
                        <div class="mat-content-container">
                            <div class="optionReports">
                                <div class="Selects">
                                    <div class="select-container">
                                        <app-select [label]="'Sucursal'"  [(value)]="idBranch" [items]="arrayBranches" [getId]="getIdSucursal" [getLabel]="getLabelSucursal"></app-select>
                                    </div>
                                    <div class="estatus-select">
                                        <app-select [label]="'Estado'" [(value)]="idEstatus" [items]="Estatus" [getId]="getIdEstatus" [getLabel]="getLabelEstatus"></app-select>                                                            
                                    </div>                                                                              
                                    <div class="inputDate">
                                        <app-datepicker [label]="'Fecha de inicio'" (dateChange)="onDateChangeInicio($event)"></app-datepicker>                                                                                                                      
                                     </div>             
                                     <div class="inputDate">                                        
                                         <app-datepicker [label]="'Fecha de Fin'" (dateChange)="onDateChangeFinal($event)"></app-datepicker>                                                                               
                                     </div>                                                     
                                </div>                                
                                <div class="button">
                                        <button mat-flat-button color="primary" class="assignament-button" (click)="UploadReportSucursal()">Generar</button>                                                                                                                                                
                                </div>                                

                            </div>       

                            <div class="table-container" *ngIf="ItemsTableBranch.length > 0">
                                <app-table-show [items]="ItemsTableBranch" [nameColumn]="nameColums" [optionDelete]="'no'" [optionEdit]="'no'" [optionFilter]="'no'" [optionRequeriment]="'no'" (onChange)="onChangeActionTable($event)"></app-table-show>                                
                            </div>
                            <div class="table-container" *ngIf="ItemsTableBranch.length == 0">
                                <p>Sucursal sin historial de problemas</p>
                            </div>
                            <div class="total-container" *ngIf=" estatus == 'TERMINADO'">
                                <p>Total:</p>
                                <p>{{gastoProblemaSucursal}}</p>
                            </div>
                        </div>                        
                    </mat-tab>
                    
                    <mat-tab label="Solucionador">        
                        <div class="mat-content-container">


                            <div class="optionReports">
                                <div class="Selects">
                                    <div class="select-container">
                                        <app-select [label]="'Empleado Solucionador'" [(value)]="idUser" [items]="arrayUserSolvers"  [getId]="getId" [getLabel]="getLabel"></app-select>
                                    </div>
                                    <div class="estatus-select">
                                        <app-select [label]="'Estado'" [(value)]="idEstatus" [items]="Estatus" [getId]="getIdEstatus" [getLabel]="getLabelEstatus"></app-select>                                                            
                                    </div>                 
                                    <div class="inputDate">
                                        <app-datepicker [label]="'Fecha de inicio'" (dateChange)="onDateChangeInicio($event)"></app-datepicker>                                                                                                                      
                                     </div>             
                                     <div class="inputDate">                                        
                                         <app-datepicker [label]="'Fecha de Fin'" (dateChange)="onDateChangeFinal($event)"></app-datepicker>                                                                               
                                     </div>                    
                                </div>
                                <div class="button">
                                        <button mat-flat-button color="primary" class="assignament-button" (click)="UploadReportEmployee()">Generar</button>                                                                                                                                                
                                </div>                                
                            </div>           
                            <div class="table-container" *ngIf="ItemsTableUser.length > 0">                                
                                    <app-table-show [items]="ItemsTableUser" [nameColumn]="nameColumsTerminado" [optionDelete]="'no'" [optionEdit]="'no'" [optionFilter]="'no'" [optionRequeriment]="'no'" (onChange)="onChangeActionTable($event)" *ngIf="estatus == 'TERMINADO'"></app-table-show>                                
                                    <app-table-show [items]="ItemsTableUser" [nameColumn]="nameColums" [optionDelete]="'no'" [optionEdit]="'no'" [optionFilter]="'no'" [optionRequeriment]="'no'" (onChange)="onChangeActionTable($event)" *ngIf="estatus != 'TERMINADO'"></app-table-show>                                
                            </div>                                                                                      
                            <div class="table-container" *ngIf="ItemsTableUser.length == 0">
                                <p>Solucionador sin historial de problemas</p>
                            </div>
                            <div class="total-container" *ngIf="estatus == 'TERMINADO'">                                                                
                                    <p>Total:</p>
                                    <p>{{gastoProlbemaUsuario}}</p>                                                                    
                            </div>                            
                        </div>            
                    </mat-tab> 
                    
                </mat-tab-group>
            </div>
        </div>
    </div>
</body>
</html>





